最近原来实习时候的Boss联系我，说他跳槽到了阿里，问我有没有兴趣面一个Java后台开发岗位。

考虑到我只工作了一年，现在去阿里肯定要降薪，因此也没有太强烈的意愿。但出于提升自我的角度考虑，参加了面试。



#### **一面（电话面试一小时）**

首先做一个简单的自我介绍，主要包括学校经历和工作经历。我工作经历只有一年，大部分时间都是在做产品设计和UI/UX Design，因此隔着电话都能感受到面试官的shock。



- Java基础。自动拆装箱如何实现，String，StringBuffer，StringBuilder的异同以及各自的实现。
- JVM基础。JVM的内存模型，常见的垃圾回收算法。
- 事务ACID，编程时如何保证事务，分布式情况下如何保证事务。
- 由于分布式相关场景我没有接触过，因此面试官一直诱导我去设计实现一个分布式事务。
- 数据库乐观锁和悲观锁。如何实现一个乐观锁。
- 消息队列使用场景，Kafka的架构以及原理。
- 什么是restful api，和rpc调用有什么区别。
- 单例的几种写法。volatile关键字有什么作用。



以上就是电话面试的大体问题，面试完之后，又发给我三道算法题目，要求我一小时内完成，下面是三道算法题：

- 翻转一个long类型数字。例如输入123456L，输出654321L。- Leetcode翻转integer的变种。考察能否正确处理溢出的情况。
- 输入一个double，要求返回与它最接近的.49或.99的数字。例如12.77返回12.99，11.02返回10.99，12.61返回12.49。
- 有三个线程ABC分别向一个数组中写入a，l，i，要求最终的写入结果形如alialiali...写入次数由A线程决定。



这三道题目做的还比较顺利，第二天面试官又联系我阐述一下第一题和第三题的思路，然后通知我可以参加下一轮了。



#### **二面（电话面试一小时）**

二面主要考察了一些开放式的问题。

- 首先还是自我介绍。主要是工作后的经历。介绍一下工作一年所在team的产品，我承担了什么职责。
- 开放式问题。如何设计一个rpc框架。
- 开放式问题。如何设计一个服务注册中心。
- 集合类源码。HashMap是如何实现的，扩容的过程，为什么要扩容为2倍。HashMap中的链表替换为数组可以吗？时间复杂度相同吗？
- 集合类源码。线程安全的HashMap是什么？（HashTable和ConcurrentHashMap）ConcurrentHashMap是如何实现的？（Java7分段锁和Java8的CAS+Lock）和HashTable相比有什么优势？
- 红黑树的结构，时间复杂度是多少，如何计算的
- 什么是CAS操作，如何实现一个自定义锁
- 数据库设计。有一张很大的order表，如何设计能够提升查询效率（同时满足根据买家id和卖家id查询）？



二面也同样是一小时左右，面试过程还算顺利。只是当时我在厦门鼓浪屿的一家小餐馆吃晚饭，周围的嘈杂和闷热使我很烦躁，感觉面试官态度有些傲慢……

ps.一面二面结束后面试官都各种暗示我要疯狂加班能不能接受blabla……



#### **三面（电话面试一个半小时）**

二面结束后的第三天，就收到了现场三面的通知。然而我还在厦门旅行，因此改为了电话面试。


三面是一个大Boss，因此面试的问题都更考察一些分析问题的能力。

- 介绍一下你工作一年学习到什么？所在项目的架构是什么样的？UI/UX设计有哪些规范（由于我说我学到了一些UI/UX设计方法，因此面试官就问了）？
- 数据隔离级别，脏读幻读。
- 线程池原理。
- Synchronized的实现，锁的升级过程。
- K8s的作用，K8s的底层架构。
- 对我业余时间做的一些项目做了介绍。
- 你觉得加入阿里你能给阿里带来什么？
- 进入阿里你需要忍受很多困难，需要迎难而上，如果绩效考评拿到差评，你会怎么办？



三面总的来说也还算顺利，面试官也算和蔼。

####  

#### **总结**

整个流程从一面到三面结束大约持续了10天左右。总的来说，问题都是预期范围内的，虽然面试过程中问到了一些分布式相关问题，我都没有任何经验，这时候不要放弃，主动说出你的思路，然后在面试官的诱导下，相信你能说出属于的答案。





**最后，是我总结的一些面试Java后台工程师必须要掌握的知识点。**

#### **1. 集合类源码**

- ArrayList：内部数据结构，数组扩容机制

- LinkedList：内部数据结构，为什么使用双向链表

- HashMap：内部数据结构，put方法的完整流程，扩容机制

- LikedHashMap：内部数据结构，如何实现一个Cache

- TreeMap：内部数据结构，时间复杂度

- CurrentHashMap：内部数据结构，Java7分段锁，Java8 CAS+Synchronized

    

#### **2. Java基础**

- 自动拆装箱原理
- String，StringBuffer和StringBuilder
- Throwable
- reader和stream
- NIO

####  

#### **3. JVM基础**

- JVM内存模型
- 常见垃圾回收算法

####  

#### **4. 并发编程基础**

- Synchronized关键字原理
- wait，notify，sleep
- 安全的终止线程以及线程的状态转换
- 自定义Lock
- 线程池原理

####  

#### **5. 数据库基础**

- 数据库三范式，事务ACID，隔离级别，视图，索引
- JPA实体状态
- EntityManger

#### 

#### **6. 网络基础**

- TCP/IP



#### **7. 常见设计模式**

- 装饰者，模板方法，策略，工厂，状态